{"version":3,"sources":["flipclock/js/libs/factory.js"],"names":["$","FlipClock","Factory","Base","extend","animationRate","autoStart","callbacks","destroy","create","init","interval","start","stop","reset","classes","active","before","divider","dot","label","flip","play","wrapper","clockFace","countdown","defaultClockFace","defaultLanguage","$el","face","lang","language","minimumDigits","original","running","time","timer","$wrapper","constructor","obj","digit","options","lists","base","addClass","Date","Math","round","Time","Timer","loadLanguage","loadClockFace","name","suffix","hasStopped","ucfirst","html","build","Lang","localize","index","lindex","toLowerCase","callback","t","log","x","hasOwnProperty","setTime","getTime","setCountdown","value","doNotAddPlayClass","jQuery"],"mappings":"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","file":"flipclock/js/libs/factory.js","sourcesContent":["/*jshint smarttabs:true */\n\n/**\n * FlipClock.js\n *\n * @author     Justin Kimbrell\n * @copyright  2013 - Objective HTML, LLC\n * @licesnse   http://www.opensource.org/licenses/mit-license.php\n */\n\t\n(function($) {\n\t\n\t\"use strict\";\n\t\n\t/**\n\t * The FlipClock Factory class is used to build the clock and manage\n\t * all the public methods.\n\t *\n\t * @param \tobject  A jQuery object or CSS selector used to fetch\n\t \t\t\t\t    the wrapping DOM nodes\n\t * @param \tmixed   This is the digit used to set the clock. If an \n\t \t\t\t\t    object is passed, 0 will be used.\t\n\t * @param \tobject  An object of properties to override the default\t\n\t */\n\t \t\n\tFlipClock.Factory = FlipClock.Base.extend({\n\t\t\n\t\t/**\n\t\t * The clock's animation rate.\n\t\t * \n\t\t * Note, currently this property doesn't do anything.\n\t\t * This property is here to be used in the future to\n\t\t * programmaticaly set the clock's animation speed\n\t\t */\t\t\n\n\t\tanimationRate: 1000,\n\n\t\t/**\n\t\t * Auto start the clock on page load (True|False)\n\t\t */\t\n\t\t \n\t\tautoStart: true,\n\t\t\n\t\t/**\n\t\t * The callback methods\n\t\t */\t\t\n\t\t \n\t\tcallbacks: {\n\t\t\tdestroy: false,\n\t\t\tcreate: false,\n\t\t\tinit: false,\n\t\t\tinterval: false,\n\t\t\tstart: false,\n\t\t\tstop: false,\n\t\t\treset: false\n\t\t},\n\t\t\n\t\t/**\n\t\t * The CSS classes\n\t\t */\t\t\n\t\t \n\t\tclasses: {\n\t\t\tactive: 'flip-clock-active',\n\t\t\tbefore: 'flip-clock-before',\n\t\t\tdivider: 'flip-clock-divider',\n\t\t\tdot: 'flip-clock-dot',\n\t\t\tlabel: 'flip-clock-label',\n\t\t\tflip: 'flip',\n\t\t\tplay: 'play',\n\t\t\twrapper: 'flip-clock-wrapper'\n\t\t},\n\t\t\n\t\t/**\n\t\t * The name of the clock face class in use\n\t\t */\t\n\t\t \n\t\tclockFace: 'HourlyCounter',\n\t\t \n\t\t/**\n\t\t * The name of the clock face class in use\n\t\t */\t\n\t\t \n\t\tcountdown: false,\n\t\t \n\t\t/**\n\t\t * The name of the default clock face class to use if the defined\n\t\t * clockFace variable is not a valid FlipClock.Face object\n\t\t */\t\n\t\t \n\t\tdefaultClockFace: 'HourlyCounter',\n\t\t \n\t\t/**\n\t\t * The default language\n\t\t */\t\n\t\t \n\t\tdefaultLanguage: 'english',\n\t\t \n\t\t/**\n\t\t * The jQuery object\n\t\t */\t\t\n\t\t \n\t\t$el: false,\n\n\t\t/**\n\t\t * The FlipClock.Face object\n\t\t */\t\n\t\t \n\t\tface: true,\n\t\t \n\t\t/**\n\t\t * The language object after it has been loaded\n\t\t */\t\n\t\t \n\t\tlang: false,\n\t\t \n\t\t/**\n\t\t * The language being used to display labels (string)\n\t\t */\t\n\t\t \n\t\tlanguage: 'english',\n\t\t \n\t\t/**\n\t\t * The minimum digits the clock must have\n\t\t */\t\t\n\n\t\tminimumDigits: 0,\n\n\t\t/**\n\t\t * The original starting value of the clock. Used for the reset method.\n\t\t */\t\t\n\t\t \n\t\toriginal: false,\n\t\t\n\t\t/**\n\t\t * Is the clock running? (True|False)\n\t\t */\t\t\n\t\t \n\t\trunning: false,\n\t\t\n\t\t/**\n\t\t * The FlipClock.Time object\n\t\t */\t\t\n\t\t \n\t\ttime: false,\n\t\t\n\t\t/**\n\t\t * The FlipClock.Timer object\n\t\t */\t\t\n\t\t \n\t\ttimer: false,\n\t\t\n\t\t/**\n\t\t * The jQuery object (depcrecated)\n\t\t */\t\t\n\t\t \n\t\t$wrapper: false,\n\t\t\n\t\t/**\n\t\t * Constructor\n\t\t *\n\t\t * @param   object  The wrapping jQuery object\n\t\t * @param\tobject  Number of seconds used to start the clock\n\t\t * @param\tobject \tAn object override options\n\t\t */\n\t\t \n\t\tconstructor: function(obj, digit, options) {\n\n\t\t\tif(!options) {\n\t\t\t\toptions = {};\n\t\t\t}\n\n\t\t\tthis.lists = [];\n\t\t\tthis.running = false;\n\t\t\tthis.base(options);\t\n\n\t\t\tthis.$el = $(obj).addClass(this.classes.wrapper);\n\n\t\t\t// Depcrated support of the $wrapper property.\n\t\t\tthis.$wrapper = this.$el;\n\n\t\t\tthis.original = (digit instanceof Date) ? digit : (digit ? Math.round(digit) : 0);\n\n\t\t\tthis.time = new FlipClock.Time(this, this.original, {\n\t\t\t\tminimumDigits: this.minimumDigits,\n\t\t\t\tanimationRate: this.animationRate \n\t\t\t});\n\n\t\t\tthis.timer = new FlipClock.Timer(this, options);\n\n\t\t\tthis.loadLanguage(this.language);\n\t\t\t\n\t\t\tthis.loadClockFace(this.clockFace, options);\n\n\t\t\tif(this.autoStart) {\n\t\t\t\tthis.start();\n\t\t\t}\n\n\t\t},\n\t\t\n\t\t/**\n\t\t * Load the FlipClock.Face object\n\t\t *\n\t\t * @param\tobject  The name of the FlickClock.Face class\n\t\t * @param\tobject \tAn object override options\n\t\t */\n\t\t \n\t\tloadClockFace: function(name, options) {\t\n\t\t\tvar face, suffix = 'Face', hasStopped = false;\n\t\t\t\n\t\t\tname = name.ucfirst()+suffix;\n\n\t\t\tif(this.face.stop) {\n\t\t\t\tthis.stop();\n\t\t\t\thasStopped = true;\n\t\t\t}\n\n\t\t\tthis.$el.html('');\n\n\t\t\tthis.time.minimumDigits = this.minimumDigits;\n\t\t\t\n\t\t\tif(FlipClock[name]) {\n\t\t\t\tface = new FlipClock[name](this, options);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tface = new FlipClock[this.defaultClockFace+suffix](this, options);\n\t\t\t}\n\t\t\t\n\t\t\tface.build();\n\n\t\t\tthis.face = face\n\n\t\t\tif(hasStopped) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t\t\n\t\t\treturn this.face;\n\t\t},\n\t\t\t\t\n\t\t/**\n\t\t * Load the FlipClock.Lang object\n\t\t *\n\t\t * @param\tobject  The name of the language to load\n\t\t */\n\t\t \n\t\tloadLanguage: function(name) {\t\n\t\t\tvar lang;\n\t\t\t\n\t\t\tif(FlipClock.Lang[name.ucfirst()]) {\n\t\t\t\tlang = FlipClock.Lang[name.ucfirst()];\n\t\t\t}\n\t\t\telse if(FlipClock.Lang[name]) {\n\t\t\t\tlang = FlipClock.Lang[name];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlang = FlipClock.Lang[this.defaultLanguage];\n\t\t\t}\n\t\t\t\n\t\t\treturn this.lang = lang;\n\t\t},\n\t\t\t\t\t\n\t\t/**\n\t\t * Localize strings into various languages\n\t\t *\n\t\t * @param\tstring  The index of the localized string\n\t\t * @param\tobject  Optionally pass a lang object\n\t\t */\n\n\t\tlocalize: function(index, obj) {\n\t\t\tvar lang = this.lang;\n\n\t\t\tif(!index) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar lindex = index.toLowerCase();\n\n\t\t\tif(typeof obj == \"object\") {\n\t\t\t\tlang = obj;\n\t\t\t}\n\n\t\t\tif(lang && lang[lindex]) {\n\t\t\t\treturn lang[lindex];\n\t\t\t}\n\n\t\t\treturn index;\n\t\t},\n\t\t \n\n\t\t/**\n\t\t * Starts the clock\n\t\t */\n\t\t \n\t\tstart: function(callback) {\n\t\t\tvar t = this;\n\n\t\t\tif(!t.running && (!t.countdown || t.countdown && t.time.time > 0)) {\n\t\t\t\tt.face.start(t.time);\n\t\t\t\tt.timer.start(function() {\n\t\t\t\t\tt.flip();\n\t\t\t\t\t\n\t\t\t\t\tif(typeof callback === \"function\") {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\t\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tt.log('Trying to start timer when countdown already at 0');\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * Stops the clock\n\t\t */\n\t\t \n\t\tstop: function(callback) {\n\t\t\tthis.face.stop();\n\t\t\tthis.timer.stop(callback);\n\t\t\t\n\t\t\tfor(var x in this.lists) {\n\t\t\t\tif (this.lists.hasOwnProperty(x)) {\n\t\t\t\t\tthis.lists[x].stop();\n\t\t\t\t}\n\t\t\t}\t\n\t\t},\n\t\t\n\t\t/**\n\t\t * Reset the clock\n\t\t */\n\t\t \n\t\treset: function(callback) {\n\t\t\tthis.timer.reset(callback);\n\t\t\tthis.face.reset();\n\t\t},\n\t\t\n\t\t/**\n\t\t * Sets the clock time\n\t\t */\n\t\t \n\t\tsetTime: function(time) {\n\t\t\tthis.time.time = time;\n\t\t\tthis.flip(true);\t\t\n\t\t},\n\t\t\n\t\t/**\n\t\t * Get the clock time\n\t\t *\n\t\t * @return  object  Returns a FlipClock.Time object\n\t\t */\n\t\t \n\t\tgetTime: function(time) {\n\t\t\treturn this.time;\t\t\n\t\t},\n\t\t\n\t\t/**\n\t\t * Changes the increment of time to up or down (add/sub)\n\t\t */\n\t\t \n\t\tsetCountdown: function(value) {\n\t\t\tvar running = this.running;\n\t\t\t\n\t\t\tthis.countdown = value ? true : false;\n\t\t\t\t\n\t\t\tif(running) {\n\t\t\t\tthis.stop();\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * Flip the digits on the clock\n\t\t *\n\t\t * @param  array  An array of digits\t \n\t\t */\n\t\tflip: function(doNotAddPlayClass) {\t\n\t\t\tthis.face.flip(false, doNotAddPlayClass);\n\t\t}\n\t\t\n\t});\n\t\t\n}(jQuery));\n"],"sourceRoot":"/source/"}